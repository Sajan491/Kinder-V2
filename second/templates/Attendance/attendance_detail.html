{% extends "innerbase.html" %}


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Student Ids</title>
    {% block scripts %}

    <script type="text/javascript">
        window.onload = function () {
            var a = {
                {
                    attend.presentdayss | json_script
                }
            } + {
                {
                    attend.absentdayss | json_script
                }
            }
            document.getElementById('pd').innerHTML = a;

        };
    </script>
    {% endblock %}
</head>


<body>
    {% block innerbase %}

    <a class="btn btn-outline-danger" href="{% url 'attendance' %}"><i class="fa fa-arrow-left" aria-hidden="true"></i>
    </a>
    <div class="row" style="margin-top: 80px;">
        <div class="col-lg-7 graph">

            <canvas id="myChart"></canvas>
        </div>
        <div class="col-lg-5 details">


            <h5>Total School Days:<p id="pd"></p>
            </h5>
            <h5>Total Days Present: {{attend.presentdayss}}</h5>
            <h5>Total Days Absent: {{attend.absentdayss}}</h5>
            <h3><b>{{attend.student.full_name}}</b> was absent on the following day(s):</h3>
            <table class="table table-hover" style="margin-top: 30px; width: 20%">
                <thead class="thead-dark">
                    <tr>
                        <th>Dates</th>
                    </tr>
                </thead>

                {% for d in attend.days %}
                <tr>
                    <td>
                        <ul>
                            <li>{{d.date}}</li>
                        </ul>
                    </td>

                </tr>
                {% endfor %}
            </table>

        </div>


    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

    <script>
        var ctx = document.getElementById("myChart").getContext("2d");
        var chart = new Chart(ctx, {
            // The type of chart we want to create
            type: "pie",

            // The data for our dataset
            data: {
                labels: [
                    'present', 'absent'
                ],
                datasets: [{
                    label: "Attendance",
                    backgroundColor: ["rgb(255, 99, 132)", "rgb(0, 99, 132)"],
                    borderColor: "rgb(255, 99, 132)",
                    data: [3, 4],
                }, ],
            },

            // Configuration options go here
            options: {},
        });
    </script>
    {% endblock %}
</body>

</html>