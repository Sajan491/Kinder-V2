{% extends "base1.html" %} {% block base2 %} {% load static %}
<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
  <meta charset="UTF-8" />
  <title>Assignments</title>
  <link rel="stylesheet" type="text/css" href="{% static 'second.css' %}" />
  <link rel="stylesheet" href="{% static 'form1.css' %}" />
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
  </script>

  <!-- Moment.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js"
    integrity="sha256-VBLiveTKyUZMEzJd6z2mhfxIqz3ZATCuVMawPZGzIfA=" crossorigin="anonymous"></script>

  <!-- Tempus Dominus Bootstrap 4 -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css"
    integrity="sha256-XPTBwC3SBoWHSmKasAk01c08M6sIA5gF5+sRxqak2Qs=" crossorigin="anonymous" />
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js"
    integrity="sha256-z0oKYg6xiLq3yJGsp/LsY9XykbweQlHl42jHv2XTBz4=" crossorigin="anonymous"></script>
</head>

<body>
  {% if user.user_teachers != "" %}
  <h2>Add assignment</h2>
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %} {{ form.as_p }}
    <input type="text" class="form-control datetimepicker-input" id="datetimepicker1" data-toggle="datetimepicker"
      data-target="#datetimepicker1" />

    <div>
      <button class="btn btn-outline-info" type="submit">
        Post Assignment
      </button>
    </div>
  </form>

  <h2>Posted Assignments</h2>
  {% for t in tasks %}
  <h2>{{t.title}}</h2>
  <p>{{t.description}}</p>
  <p>Attached File (if any):</p>
  <a href="{{t.file_url}}"> {{t.file}}</a>
  <p>Date Posted: {{t.date_posted}}</p>
  <p>Deadline : {{t.deadline}}</p>

  <a class="btn btn-outline-primary" href="{% url 'submissions' t.id %}">See Submissions</a>

  <a class="btn btn-outline-primary" href="{% url 'assignment-update' t.id %}">Edit Assignment</a>

  <a class="btn btn-outline-danger" href="{% url 'assignment-delete' t.id %}">Delete Assignment</a>
  {% endfor %}



  {% elif user.user_parents != "" %}

  {% for t in all_tasks %}
  {% if t.author.user_teachers.school == user.user_parents.school %}
  {% if t.author.user_teachers.grade == user.user_parents.ChildGrade %}
  <h2>{{t.title}}</h2>
  <p>{{t.description}}</p>
  <p>Attached File (if any):</p>
  <a href="{{t.file_url}}"> {{t.file}}</a>
  <p>Date Posted: {{t.date_posted}}</p>
  <p>Deadline : {{t.deadline}}</p>

  {{t.submissions_set.all}}<br>
  {{t.grading_set.all}}
  {% if user in t.submissions_set.author_list %}
  <p>Submitted for Grading</p>

  <a class="btn btn-outline-primary" href="{% url 'submissions-update' t.submissions_set.get.id %}">Edit Submission</a>
  <a class="btn btn-outline-danger" href="{% url 'submission-delete' t.submissions_set.get.id %}">Delete Submission</a>
  {% else %}

  <a class="btn btn-outline-primary" href="{% url 'submissions' t.id %}">Add Submissions</a>
  {% endif %}

  {% endif %}
  {% endif %}
  {% endfor %}
  {% endif %}




  <script type="text/javascript">
    $(function () {
      $('#datetimepicker1').datetimepicker();
    });
  </script>

  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
  <p>sdsdsd</p>
</body>




</html>
{% endblock %}